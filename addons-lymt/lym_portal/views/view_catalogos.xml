<?xml version="1.0" encoding="UTF-8"?>
<odoo>
    <data>

        <template id="view_catalogos" name="Catálogos">
            <t t-call="website.layout">
                <t t-set="additional_title">Lista de catálogos</t>
                <div class="container" style="font-size: 160%;">
                    <div class="row align-center col-12" style="margin: 1.6rem; justify-content: center;">
                        <a class="btn btn-primary" href="/myportal/catalogos/cadastro" style="font-size: 160%; border-radius: 1.6rem;">Cadastrar um novo catálogo</a>
                    </div>
                    <div class="row">
                        <table class="table">
                            <thead>
                                <tr>
                                    <th scope="col">Nº</th>
                                    <th scope="col">Título</th>
                                    <th scope="col">Descrição</th>
                                    <th scope="col">Imagem</th>
                                    <th scope="col">Catálogo</th>
                                    <th scope="col">Validado</th>
                                    <th scope="col">Feedback</th>
                                    <th scope="col">Edit</th>
                                    <th scope="col">Delete</th>
                                </tr>
                            </thead>
                            <tbody>
                                <t t-set="count" t-value="1" />
                                <t t-foreach="catalogos" t-as="c">
                                    <tr>
                                        <th scope="row">
                                            <t t-raw="count" />
                                        </th>
                                        <td>
                                            <t t-raw="c.title" />
                                        </td>
                                        <td>
                                            <t t-raw="c.description" />
                                        </td>
                                        <td>
                                            <img t-if="c.img" t-att-src="image_data_uri(c.img)" alt="Imagem" style="max-width: 425px; max-height: 240px;"/>
                                        </td>
                                        <td>
                                            <t t-if="c.catalogo">
                                                <a t-attf-href="/download-catalogo/{{c.id}}" name="catalogo" style="cursor: pointer;" target="_blank"><i class="fa fa-download"></i></a>
                                            </t>
                                        </td>
                                        <td>
                                            <t t-if="c.valid">
                                                <i class="fa fa-circle-o" />
                                            </t>
                                            <t t-else="">
                                                <i class="fa fa-close" />
                                            </t>
                                        </td>
                                        <td>
                                            <t t-raw="c.feedback" />
                                        </td>
                                        <td>
                                            <a t-attf-href="/myportal/catalogos/edit/{{c.id}}">
                                                <i class="fa fa-pencil" />
                                            </a>
                                        </td>
                                        <td>
                                            <a t-attf-href="/myportal/catalogos/delete/{{c.id}}">
                                                <i class="fa fa-trash" />
                                            </a>
                                        </td>
                                        <t t-set="count" t-value="count + 1" />
                                    </tr>
                                </t>
                            </tbody>
                        </table>
                    </div>
                </div>
            </t>
        </template>

    </data>
</odoo>